We want to create an object with methods for various HTML elements: div, p, span and h1 for the sake of this Kata.

These methods will wrap the passed-in string in the tag associated with each.

Format.div("foo"); // returns "<div>foo</div>"
Format.p("bar"); // returns "<p>bar</p>"
Format.span("fiz"); // returns "<span>fiz</span>"
Format.h1("buz"); // returns "<h1>buz</h1>"

We also want to be able to add additional formatting by chaining our methods together.

Format.div.h1("FooBar");
// "<div><h1>FooBar</h1><div>"

Format.div.p.span("FizBuz");
// "<div><p><span>FizBuz</span></p></div>"

and so on, as deep as we care to use.

Multiple arguments should be concatenated and wrapped in the correct HTML formatting.

Format.div.h1("Foo", "Bar");
// "<div><h1>FooBar</h1></div>"

We should be able to store the created methods and reuse them.

var wrapInDiv = Format.div;
wrapInDiv("Foo");   // "<div>Foo</div>"
wrapInDiv.p("Bar"); // "<div><p>Bar</p></div>"

var wrapInDivH1 = Format.div.h1;
wrapInDivH1("Far"); // "<div><h1>Far</h1></div>"
wrapInDivH1.span("Bar"); // "<div><h1><span>Bar</span></h1></div>"

And finally, we should be able to nest calls.

Format.div(
  Format.h1("Title"), 
  Format.p(`Paragraph with a ${ Format.span('span') }.`)
)
// returns "<div><h1>Title</h1><p>Paragraph with a <span>span</span>.</p></div>"

//---------------------------------------------
–ú—ã —Ö–æ—Ç–∏–º —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö HTML-—ç–ª–µ–º–µ–Ω—Ç–æ–≤: div, p, span –∏ h1, –¥–ª—è —ç—Ç–æ–π —Ç–µ–º—ã.

–≠—Ç–∏ –º–µ—Ç–æ–¥—ã –±—É–¥—É—Ç –∑–∞–∫–ª—é—á–∞—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ç–µ–≥, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –∫–∞–∂–¥—ã–º –∏–∑ –Ω–∏—Ö.


–ó–≤—ñ—Å–Ω–æ\! –¶–µ–π –∫–æ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–¥–∏–Ω –∑ –Ω–∞–π–ø–æ—Ç—É–∂–Ω—ñ—à–∏—Ö –ø—Ä–∏–π–æ–º—ñ–≤ —É JavaScript: **—Ñ—É–Ω–∫—Ü—ñ—ó —î –æ–±'—î–∫—Ç–∞–º–∏**, —ñ –º–∏ –º–æ–∂–µ–º–æ –¥–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —ó—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **—Ä–µ–∫—É—Ä—Å—ñ—ó** —Ç–∞ **–∑–∞–º–∏–∫–∞–Ω—å**.

–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–±–µ—Ä–µ–º–æ –π–æ–≥–æ –ø–æ–∫—Ä–æ–∫–æ–≤–æ.

-----

## üß† 1. –ì–æ–ª–æ–≤–Ω–∞ —ñ–¥–µ—è: "–§—É–Ω–∫—Ü—ñ—è-–û–±'—î–∫—Ç"

–ù–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–∞ –≤–∏–º–æ–≥–∞ –∑–∞–¥–∞—á—ñ ‚Äî —Ü–µ –ª–∞–Ω—Ü—é–∂–æ–∫: `Format.div.h1("Foo")`.

  * `Format.div` –º–∞—î –±—É—Ç–∏ **—Ñ—É–Ω–∫—Ü—ñ—î—é**, —â–æ–± –º–∏ –º–æ–≥–ª–∏ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —ó—ó: `Format.div("Foo")`.
  * `Format.div` –≤–æ–¥–Ω–æ—á–∞—Å –º–∞—î –±—É—Ç–∏ **–æ–±'—î–∫—Ç–æ–º**, —â–æ–± —É –Ω—å–æ–≥–æ –±—É–ª–∞ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `.h1`: `(Format.div).h1`.

–ù–∞ —â–∞—Å—Ç—è, –≤ JavaScript —Ñ—É–Ω–∫—Ü—ñ—ó *–≤–∂–µ —î* –æ–±'—î–∫—Ç–∞–º–∏. –ú–∏ –º–æ–∂–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, –∞ –ø–æ—Ç—ñ–º –¥–æ–¥–∞—Ç–∏ –¥–æ –Ω–µ—ó –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:

```javascript
function myFunc() { console.log("–Ø —Ñ—É–Ω–∫—Ü—ñ—è!"); }
myFunc.myProp = "–Ø –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å!";

myFunc(); // –í–∏–≤–µ–¥–µ: "–Ø —Ñ—É–Ω–∫—Ü—ñ—è!"
console.log(myFunc.myProp); // –í–∏–≤–µ–¥–µ: "–Ø –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å!"
```

–ù–∞—à –∫–æ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ü–µ–π –ø—Ä–∏–Ω—Ü–∏–ø. –ö–æ–∂–µ–Ω –º–µ—Ç–æ–¥ (`div`, `p`, `h1`...) ‚Äî —Ü–µ —Ñ—É–Ω–∫—Ü—ñ—è, –¥–æ —è–∫–æ—ó *–æ–¥–Ω–æ—á–∞—Å–Ω–æ* –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω—ñ —ñ–Ω—à—ñ —Ñ—É–Ω–∫—Ü—ñ—ó-–º–µ—Ç–æ–¥–∏ (`.div`, `.p`, `.h1`...).

-----

## üèóÔ∏è 2. "–§–∞–±—Ä–∏–∫–∞" ‚Äî —Ñ—É–Ω–∫—Ü—ñ—è `createFormatter`

–û—Å–∫—ñ–ª—å–∫–∏ –≤—Å—ñ –Ω–∞—à—ñ –º–µ—Ç–æ–¥–∏ (`div`, `div.h1`, `div.h1.p`...) –ø–æ–≤–æ–¥—è—Ç—å—Å—è –æ–¥–Ω–∞–∫–æ–≤–æ, –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ "—Ñ–∞–±—Ä–∏–∫—É" ‚Äî —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –≥–µ–Ω–µ—Ä—É—î —ó—Ö. –¶–µ —ñ —î `createFormatter`.

–á—ó —î–¥–∏–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî **—Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –Ω–æ–≤—É "—Ñ—É–Ω–∫—Ü—ñ—é-–æ–±'—î–∫—Ç"**.

–ù–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏–π —ó—ó –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî `tagChain = []`. –¶–µ "–ø–∞–º'—è—Ç—å" –ª–∞–Ω—Ü—é–∂–∫–∞.

  * –ö–æ–ª–∏ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ `Format.div`, –º–∏ –≤–∏–∫–ª–∏—á–µ–º–æ —Ñ–∞–±—Ä–∏–∫—É –∑ `tagChain = ['div']`.
  * –ö–æ–ª–∏ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ `Format.div.h1`, –º–∏ –≤–∏–∫–ª–∏—á–µ–º–æ —Ñ–∞–±—Ä–∏–∫—É –∑ `tagChain = ['div', 'h1']`.
  * –ö–æ–ª–∏ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ `Format.div.h1.p`, –º–∏ –≤–∏–∫–ª–∏—á–µ–º–æ —Ñ–∞–±—Ä–∏–∫—É –∑ `tagChain = ['div', 'h1', 'p']`.

-----

## ‚öôÔ∏è 3. –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `createFormatter`

–ö–æ–ª–∏ –º–∏ –≤–∏–∫–ª–∏–∫–∞—î–º–æ `createFormatter(['div', 'h1'])`, –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≤—ñ–¥–±—É–≤–∞—é—Ç—å—Å—è –¥–≤—ñ —Ä–µ—á—ñ:

### –ö—Ä–æ–∫ 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è "Callable" —á–∞—Å—Ç–∏–Ω–∏ (—Å–∞–º–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó)

–°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è `formatter`, —è–∫–∞ –æ—á—ñ–∫—É—î –Ω–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ (`...content`).

```javascript
const formatter = function(...content) {
    // ...
};
```

–¶–µ —Ç–∞ —á–∞—Å—Ç–∏–Ω–∞, —è–∫–∞ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –º–∏ *–Ω–∞—Ä–µ—à—Ç—ñ –≤–∏–∫–ª–∏—á–µ–º–æ* –º–µ—Ç–æ–¥: `Format.div.h1("Foo", "Bar")`.

1.  **`...content`**: –¶–µ "rest parameter", —è–∫–∏–π –∑–±–∏—Ä–∞—î –≤—Å—ñ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ (`"Foo"`, `"Bar"`) –≤ –æ–¥–∏–Ω –º–∞—Å–∏–≤: `['Foo', 'Bar']`.
2.  **`content.join('')`**: –¶–µ —Å–∫–ª–µ—é—î –º–∞—Å–∏–≤ —É –æ–¥–∏–Ω —Ä—è–¥–æ–∫: `"FooBar"`. –¶–µ –≤–∏—Ä—ñ—à—É—î –≤–∏–º–æ–≥—É –ø—Ä–æ "–º–Ω–æ–∂–∏–Ω–Ω—ñ –∞—Ä–≥—É–º–µ–Ω—Ç–∏".
3.  **`tagChain.reduceRight(...)`**: –¶–µ —Å–µ—Ä—Ü–µ –ª–æ–≥—ñ–∫–∏ –æ–±–≥–æ—Ä—Ç–∞–Ω–Ω—è.
      * –ù–∞—à `tagChain` ‚Äî `['div', 'h1']`.
      * `reduceRight` –æ–∑–Ω–∞—á–∞—î "–ø—Ä–æ–π—Ç–∏ –ø–æ –º–∞—Å–∏–≤—É —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª—ñ–≤–æ".
      * **–Ü—Ç–µ—Ä–∞—Ü—ñ—è 1:**
          * `tag` = `'h1'` (–æ—Å—Ç–∞–Ω–Ω—ñ–π –µ–ª–µ–º–µ–Ω—Ç)
          * `acc` (–∞–∫—É–º—É–ª—è—Ç–æ—Ä) = `"FooBar"` (–ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è `innerContent`)
          * –ü–æ–≤–µ—Ä—Ç–∞—î: `<h1_>FooBar</h1_>`.
      * **–Ü—Ç–µ—Ä–∞—Ü—ñ—è 2:**
          * `tag` = `'div'` (–ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç)
          * `acc` = `"<h1>FooBar</h1>"` (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∏–Ω—É–ª–æ—ó —ñ—Ç–µ—Ä–∞—Ü—ñ—ó)
          * –ü–æ–≤–µ—Ä—Ç–∞—î: `<div_><h1>FooBar</h1></div_>`.

–†–µ–∑—É–ª—å—Ç–∞—Ç `reduceRight` ‚Äî `"<div><h1>FooBar</h1></div>"` ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∑ —Ñ—É–Ω–∫—Ü—ñ—ó `formatter`.

### –ö—Ä–æ–∫ 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è "Chainable" —á–∞—Å—Ç–∏–Ω–∏ (–≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π)

–û–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó `formatter`, *–∞–ª–µ –¥–æ —ó—ó –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è*, –º–∏ –¥–æ–¥–∞—î–º–æ –¥–æ –Ω–µ—ó –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ.

```javascript
TAGS.forEach(tag => {
    formatter[tag] = createFormatter([...tagChain, tag]);
});
```

–¶–µ **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞** —á–∞—Å—Ç–∏–Ω–∞. –ú–∏ –∫–∞–∂–µ–º–æ: "–î–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–µ–≥—É (`div`, `h1`, `p`, `span`)...
...—Å—Ç–≤–æ—Ä–∏ –Ω–∞ –æ–±'—î–∫—Ç—ñ `formatter` –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å –∑ —Ü–∏–º —ñ–º'—è–º (`tag`).
...–∑–Ω–∞—á–µ–Ω–Ω—è–º —Ü—ñ—î—ó –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –±—É–¥–µ **—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∫–ª–∏–∫—É –Ω–æ–≤–æ—ó —Ñ–∞–±—Ä–∏–∫–∏**".

**–ü—Ä–∏–∫–ª–∞–¥:**
–ú–∏ –≤—Å–µ —â–µ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `createFormatter(['div', 'h1'])`.

  * –ö–æ–ª–∏ `tag` = `'p'`, –∫–æ–¥ –≤–∏–∫–æ–Ω–∞—î:
    `formatter['p'] = createFormatter(['div', 'h1', 'p']);`
  * –¢–µ–ø–µ—Ä –Ω–∞—à–∞ —Ñ—É–Ω–∫—Ü—ñ—è `formatter` (—è–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ `Format.div.h1`) –º–∞—î –Ω–æ–≤—É –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `.p`.
  * –¶—è –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `.p` ‚Äî —Ü–µ *–Ω–æ–≤–∞* —Ñ—É–Ω–∫—Ü—ñ—è-–æ–±'—î–∫—Ç, —è–∫–∞ "–ø–∞–º'—è—Ç–∞—î" —Å–≤—ñ–π –ª–∞–Ω—Ü—é–∂–æ–∫: `['div', 'h1', 'p']`.

–ù–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ `createFormatter` –ø–æ–≤–µ—Ä—Ç–∞—î –≥–æ—Ç–æ–≤—É "—Ñ—É–Ω–∫—Ü—ñ—é-–æ–±'—î–∫—Ç" `formatter`.

-----

## üöÄ 4. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è: –Ø–∫ –≤—Å–µ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è

–ö–æ–¥ –Ω–µ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏, –¥–æ–∫–∏ –º–∏ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–º–æ —Ñ–∞–±—Ä–∏–∫—É –≤–ø–µ—Ä—à–µ. –¶–µ —Ä–æ–±–ª—è—Ç—å –æ—Å—Ç–∞–Ω–Ω—ñ —Ä—è–¥–∫–∏:

```javascript
// TAGS = ['div', 'h1', 'p', 'span']
TAGS.forEach(tag => {
    Format[tag] = createFormatter([tag]);
});
```

–¶–µ–π —Ü–∏–∫–ª –∑–∞–ø—É—Å–∫–∞—î —Ñ–∞–±—Ä–∏–∫—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–µ–≥—É –∑ *–ø–æ—á–∞—Ç–∫–æ–≤–∏–º* –ª–∞–Ω—Ü—é–∂–∫–æ–º:

1.  `Format['div'] = createFormatter(['div']);`
      * –¶–µ —Å—Ç–≤–æ—Ä—é—î `Format.div`.
      * –í—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É —Ä–µ–∫—É—Ä—Å—ñ—è *–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ* —Å—Ç–≤–æ—Ä—é—î `Format.div.h1`, `Format.div.p` —ñ —Ç.–¥.
2.  `Format['h1'] = createFormatter(['h1']);`
      * –¶–µ —Å—Ç–≤–æ—Ä—é—î `Format.h1`.
      * –†–µ–∫—É—Ä—Å—ñ—è —Å—Ç–≤–æ—Ä—é—î `Format.h1.h1`, `Format.h1.p` —ñ —Ç.–¥.
3.  ... —ñ —Ç–∞–∫ –¥–∞–ª—ñ –¥–ª—è `p` —Ç–∞ `span`.

-----

## üß© 5. –Ø–∫ –ø—Ä–∞—Ü—é—é—Ç—å –≤–∫–ª–∞–¥–µ–Ω—ñ –≤–∏–∫–ª–∏–∫–∏

–†–æ–∑–≥–ª—è–Ω–µ–º–æ –æ—Å—Ç–∞–Ω–Ω—é –≤–∏–º–æ–≥—É: `Format.div(Format.h1("Title"))`

–¢—É—Ç –ª–∞–Ω—Ü—é–∂–∫–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è. –¶–µ –∑–≤–∏—á–∞–π–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è JavaScript: **—Å–ø–æ—á–∞—Ç–∫—É –æ–±—á–∏—Å–ª—é—é—Ç—å—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç–∏, –ø–æ—Ç—ñ–º –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—è.**

1.  **–ö—Ä–æ–∫ 1 (–ê—Ä–≥—É–º–µ–Ω—Ç):** –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è `Format.h1("Title")`.

      * –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ñ–∞–±—Ä–∏–∫–∞ `createFormatter(['h1'])`.
      * –á—ó `formatter` –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑ `content = ["Title"]`.
      * `reduceRight` –æ–±–≥–æ—Ä—Ç–∞—î `"Title"` –≤ `<h1>`.
      * –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ä—è–¥–æ–∫ `"<h1>Title</h1>"`.

2.  **–ö—Ä–æ–∫ 2 (–ó–æ–≤–Ω—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è):** –¢–µ–ø–µ—Ä –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `Format.div(...)`.

      * –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ñ–∞–±—Ä–∏–∫–∞ `createFormatter(['div'])`.
      * –á—ó `formatter` –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑ `content = ["<h1>Title</h1>"]`.
      * `reduceRight` –æ–±–≥–æ—Ä—Ç–∞—î `"<h1>Title</h1>"` –≤ `<div>`.
      * –§—ñ–Ω–∞–ª—å–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `"<div><h1>Title</h1></div>"`.

–¶–µ –ø—Ä–∞—Ü—é—î, –æ—Å–∫—ñ–ª—å–∫–∏ `...content` —ñ `content.join('')` –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—é—Ç—å —ñ –∑–≤–∏—á–∞–π–Ω—ñ —Ä—è–¥–∫–∏, —ñ —Ä—è–¥–∫–∏, —â–æ –≤–∂–µ –º—ñ—Å—Ç—è—Ç—å HTML.