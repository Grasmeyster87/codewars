–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º –ø–æ—à–∞–≥–æ–≤–æ, **–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º** –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `count(n)`:

---

### üìå –¶–µ–ª—å

–ü–æ—Å—á–∏—Ç–∞—Ç—å **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ —á–∏—Å–ª–µ** `n!`, –Ω–µ –≤—ã—á–∏—Å–ª—è—è —Å–∞–º —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª –Ω–∞–ø—Ä—è–º—É—é, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö `n` —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π JavaScript.

---

### ü§î –ù–∞–±–ª—é–¥–µ–Ω–∏–µ

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ –ª—é–±–æ–º —á–∏—Å–ª–µ `x` –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–æ —Ñ–æ—Ä–º—É–ª–µ:

$$
\text{digits}(x) = \left\lfloor \log_{10}(x) \right\rfloor + 1
$$

–ü—Ä–∏–º–µ—Ä—ã:

* $\log_{10}(100) = 2$ ‚Üí $\lfloor 2 \rfloor + 1 = 3$ ‚Üí 3 —Ü–∏—Ñ—Ä—ã
* $\log_{10}(120) \approx 2.08$ ‚Üí $\lfloor 2.08 \rfloor + 1 = 3$ ‚Üí 3 —Ü–∏—Ñ—Ä—ã

---

### üí° –ò–¥–µ—è

–í–º–µ—Å—Ç–æ `x = n!` –Ω–∞–ø—Ä—è–º—É—é, –ø—Ä–∏–º–µ–Ω–∏–º –ª–æ–≥–∞—Ä–∏—Ñ–º –∫ —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª—É:

$$
\log_{10}(n!) = \log_{10}(1 \cdot 2 \cdot 3 \cdots n)
$$

–ü–æ —Å–≤–æ–π—Å—Ç–≤—É –ª–æ–≥–∞—Ä–∏—Ñ–º–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:

$$
\log_{10}(n!) = \log_{10}(1) + \log_{10}(2) + \log_{10}(3) + \dots + \log_{10}(n)
$$

–ê –ø–æ—Ç–æ–º:

$$
\text{digits}(n!) = \left\lfloor \log_{10}(1) + \log_{10}(2) + \dots + \log_{10}(n) \right\rfloor + 1
$$

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: `count(5)`

```js
let logSum = 0;
for (let i = 2; i <= 5; i++) {
  logSum += Math.log10(i);
}
```

* log10(2) ‚âà 0.3010
* log10(3) ‚âà 0.4771
* log10(4) ‚âà 0.6020
* log10(5) ‚âà 0.6990
  ‚Üí —Å—É–º–º–∞ ‚âà 2.0791

```js
Math.floor(logSum) + 1 = Math.floor(2.0791) + 1 = 3
```

–ò–º–µ–Ω–Ω–æ 3 —Ü–∏—Ñ—Ä—ã –≤ `5! = 120`

---

### ‚öôÔ∏è –ê–ª–≥–æ—Ä–∏—Ç–º —à–∞–≥ –∑–∞ —à–∞–≥–æ–º

```js
function count(n) {
  if (n < 0) return undefined;        // –Ω–µ—Ç —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞ –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö
  if (n === 0 || n === 1) return 1;   // 0! = 1! = 1 ‚Üí 1 —Ü–∏—Ñ—Ä–∞

  let logSum = 0;

  // —Å—á–∏—Ç–∞–µ–º log10(2) + log10(3) + ... + log10(n)
  for (let i = 2; i <= n; i++) {
    logSum += Math.log10(i);
  }

  return Math.floor(logSum) + 1;      // —Ñ–æ—Ä–º—É–ª–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ü–∏—Ñ—Ä
}
```

---

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

* **–ë—ã—Å—Ç—Ä–æ —Ä–∞–±–æ—Ç–∞–µ—Ç** –¥–∞–∂–µ –ø—Ä–∏ `n = 50_000_000`
* **–¢–æ—á–Ω–æ—Å—Ç—å –≤—ã—Å–æ–∫–∞—è**, –ø–æ—Ç–æ–º—É —á—Ç–æ –ª–æ–≥–∞—Ä–∏—Ñ–º—ã —Å—á–∏—Ç–∞—é—Ç—Å—è —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
* **–ë–µ–∑ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏**, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø–æ–ø—ã—Ç–∫–∏ –≤—ã—á–∏—Å–ª–∏—Ç—å `n!`

---

–•–æ—á–µ—à—å, —è –ø–æ–∫–∞–∂—É –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ, –∫–∞–∫ —Ä–∞—Å—Ç—ë—Ç —á–∏—Å–ª–æ —Ü–∏—Ñ—Ä —É —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞?
